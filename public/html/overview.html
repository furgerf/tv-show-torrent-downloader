<h1>Overview</h1>
<div class="darker">
  <table ng-repeat="sub in overviewCtrl.subscriptions">
    <col width="300"></col>
    <col width="500"></col>
    <col width="300"></col>
    <tr ng-class="{bad: {{overviewCtrl.getNumberOfDaysSinceDate(sub.lastUpdateCheck) >= 5}}, ok: {{overviewCtrl.getNumberOfDaysSinceDate(sub.lastUpdateCheck) >= 1}}, good: true}">
      <td class="title">{{sub.name}}</td>
      <td>Current episode: S{{sub.currentEpisode.season | twoDigits}}E{{sub.currentEpisode.episode | twoDigits}} (Last updated on {{sub.lastUpdateCheck | dateTime}})</td>
      <td>{{sub.searchParameters | searchParameters}}</td>
      <td><button ng-click='overviewCtrl.updateSubscription(sub)'>Update now!</button></td>
    </tr>
    <tr ng-repeat="ep in overviewCtrl.newEpisodes[sub.name] track by $index">
      <td colspan="1">Downloaded new episode:</td>
      <td colspan="3">{{ep.name}}, {{ep.size | fileSize}} (Uploaded on {{ep.uploadDate | dateTime}})</td>
    </tr>
  </table>
  <button ng-click='overviewCtrl.updateAllSubscriptions()'>Update all!</button>
</div>

