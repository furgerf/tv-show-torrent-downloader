<h1>Administration</h1>
<h2>Configuration</h2>
<div class="darker">
  <h2>Server</h2>
  Server host:
    <input type="text" ng-model="adminCtrl.serverHost" placeholder="Server host IP or name">
    <button ng-click='adminCtrl.saveServerHost()'>Save</button>
  Server port:
    <input type="number" ng-model="adminCtrl.serverPort" placeholder="Server port">
    <button ng-click='adminCtrl.saveServerPort()'>Save</button>


  <h2>Torrents</h2>
  Maximum number of torrents per episode:
    <input type="number" ng-model="adminCtrl.maxTorrentsPerEpisode" placeholder="Max number of torrents per episode" min="0" max="10">
    <button ng-click='adminCtrl.saveMaxTorrentsPerEpisode()'>Save</button>
    <br>

  Torrent sort criterion:
    <select ng-model="adminCtrl.torrentSort">
      <option value="largest">Largest</option>
      <option value="smallest">Smallest</option>
      <option value="newest">Newest</option>
      <option value="oldest">Oldest</option>
    </select>
    <button ng-click='adminCtrl.saveTorrentSort()'>Save</button>
    <br>
</div>

<h2>Monitoring</h2>
<div class="darker">
  <h2>Disks</h2>
  <table>
    <col width="150"></col>
    <col width="100"></col>
    <col width="100"></col>
    <col width="100"></col>
    <col width="100"></col>
    <tr class="title">
      <td>Mount point</td>
      <td>Avail.</td>
      <td>Used</td>
      <td>Total</td>
      <td>Free</td>
    </tr>
  </table>
  <table ng-repeat="disk in adminCtrl.disks">
    <col width="150"></col>
    <col width="100"></col>
    <col width="100"></col>
    <col width="100"></col>
    <col width="100"></col>
    <tr ng-class="{bad: {{disk.freePercentage <= 5}}, ok: {{disk.freePercentage <= 10}}, good: true}">
      <td>{{disk.mountPoint}}</td>
      <td>{{disk.spaceAvailable | fileSize}}</td>
      <td>{{disk.spaceUsed | fileSize}}</td>
      <td>{{disk.spaceTotal | fileSize}}</td>
      <td>{{disk.freePercentage}}%</td>
    </tr>
  </table>
  <button ng-click='adminCtrl.refresh()'>Refresh</button>
</div>

